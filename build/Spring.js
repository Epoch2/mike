// Generated by CoffeeScript 1.6.1
(function() {

  MC.Spring = (function() {

    function Spring(particle1, particle2, springConst, springLen, frictionConst) {
      this.particle1 = particle1;
      this.particle2 = particle2;
      this.springConst = springConst;
      this.springLen = springLen;
      this.frictionConst = frictionConst;
    }

    Spring.prototype.solve = function() {
      var force, len, springVec;
      springVec = this.particle2.currPos.minus(this.particle1.currPos);
      len = springVec.length();
      force = new MC.Vec2(0, 0);
      if (len !== 0) {
        force.add(springVec.unit().times_s(len - this.springLen).times_s(this.springConst));
      }
      force.add(this.particle1.vel.minus(this.particle2.vel).times_s(-this.frictionConst));
      if (this.particle1.head !== true) {
        this.particle1.applyForce(force);
      }
      return this.particle2.applyForce(force.times_s(-1));
    };

    return Spring;

  })();

}).call(this);
